<!DOCTYPE html>
<html>
<head>
    <title>Hello Endpoints!</title>
    <script type="text/javascript" src="/js/base.js"></script>
    
    <!-- SCRIPT FOR FIREBASE -->
	<script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
	
    <script type="text/javascript" src="/js/firebaseApp.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link type="text/css" rel="stylesheet" href="/bootstrap/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="/bootstrap/css/bootstrap-responsive.css">
    <link type="text/css" rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="container">
	<p id="whoSignedIn"></p>
</div>
<div class="container">
	<select id="selectLogin" onchange="changeLogin()">
		<option value="email_pass">Email/Password</option>
		<option value="facebook">Facebook</option>
		<option value="google">Google</option>
		<option value="twitter">Twitter</option>
		<option value="github">GitHub</option>
	</select>
</div>
<div class="container">
	<div class="container" id="email_pass">
		<input id="txtEmail" type="email" placeholder="Email">
		<input id="txtPassword" type="password" placeholder="Password">
	</div>
	
	<button id="btnLogin" class="btn btn-action" onclick="loginEvent()">
	Log in
	</button>
	<button id="btnSignUp" class="btn btn-secondary" onclick="signupEvent()">
	Sign Up
	</button>
	<button id="btnLogout" class="btn btn-action" onclick="signoutEvent()">
	Log out
	</button>

	<script>
	// Initialize Firebase
	var config = {
	    apiKey: "AIzaSyAt0sy-UP8_OT5QKqIDil_GdLkbmxHG-XA",
	    authDomain: "better-world-175517.firebaseapp.com",
	    databaseURL: "https://better-world-175517.firebaseio.com",
	    projectId: "better-world-175517",
	    storageBucket: "better-world-175517.appspot.com",
	    messagingSenderId: "529644969614",
	  };
	firebase.initializeApp(config);
	  
	firebase.auth().onAuthStateChanged(function(user) {
		const email = document.getElementById('txtEmail');
		const btnLogout = document.getElementById('btnLogout');
		const label = document.getElementById('whoSignedIn');
		const table = document.getElementById('AsteroidTable');
		
		var user = firebase.auth().currentUser;
		
		if (user) {
			btnLogout.style.visibility = "visible";
			table.style.visibility = "visible";
			
			label.innerHTML = label.innerHTML.replace(label.innerHTML,user.displayName);
		} else {
			btnLogout.style.visibility = "hidden";
			table.style.visibility = "hidden";
			label.innerHTML = label.innerHTML.replace(label.innerHTML,'');
		}
	});
	</script>

	
</div>
<div class="container">

	<form action="javascript:void(0);">
        <h2>Add Asteroid</h2>
        <div><span class="label">Name: </span><input id="asteroidName" /></div>
        <div><span class="label">Diameter: </span><input id="asteroidDiam" /></div>
        <div>Dimensions:</div>
        <div><span class="dimlabel">Length: </span><input id="asteroidLength" /></div>
        <div><span class="dimlabel">Width: </span><input id="asteroidWidth" /></div>
        <div><span class="dimlabel">Height: </span><input id="asteroidHeight" /></div>
        <div><span class="label">Mean Distance From Sun: </span><input id="asteroidDist" /></div>
        <div><input id="addAsteroid" type="submit" class="btn btn-small" value="Submit"></div>
    </form>

    <form action="javascript:void(0);">
        <h2>Refresh Asteroids</h2>
        <div><input id="listAsteroids" type="submit" class="btn btn-small" value="Refresh"></div>
    </form>
    
    <table id="AsteroidTable">
	 	<tr>
	 		<th>Asteroid</th>
	 		<th>Diameter</th>
	 		<th>Dimensions</th>
	 		<th>Mean Distance From Sun</th>
	 	</tr>
	 </table>

    <script type="text/javascript">
        function init() {
            google.devrel.samples.hello.init('//' + window.location.host + '/_ah/api');
        }
    </script>
    <script src="https://apis.google.com/js/client.js?onload=init"></script>
</div>
</body>
</html>

<!-- <div id="outputLog"></div>

    <form action="javascript:void(0);">
        <h2>Get Greeting</h2>
        <div><span class="label">Greeting ID: </span><input id="id" /></div>
        <div><input id="getGreeting" type="submit" class="btn btn-small" value="Submit"></div>
    </form> 
    
    <form action="javascript:void(0);">
        <h2>List Greetings</h2>
        <div><input id="listGreeting" type="submit" class="btn btn-small" value="Submit"></div>
    </form>
    
    <form action="javascript:void(0);">
        <h2>Multiply Greetings</h2>
        <div><span class="label">Greeting: </span><input id="greeting" /></div>
        <div><span class="label">Count: </span><input id="count" /></div>
        <div><input id="multiplyGreetings" type="submit" class="btn btn-small" value="Submit"></div>
    </form>
    
    <form action="javascript:void(0);">
        <h2>Authenticated Greeting</h2>
        <div><input id="authedGreeting" type="submit" class="btn btn-small" disabled value="Submit"></div>
    </form>
    
    <table id="AsteroidTable">
	 	<tr>
	 		<th>Asteroid</th>
	 		<th>Diameter</th>
	 		<th>Dimensions</th>
	 		<th>Mean Distance From Sun</th>
	 	</tr>
	 </table>

    <script type="text/javascript">
        function init() {
            google.devrel.samples.hello.init('//' + window.location.host + '/_ah/api');
        }
    </script>
    <script src="https://apis.google.com/js/client.js?onload=init"></script>
</div> -->
